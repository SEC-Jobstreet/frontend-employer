import { Navbar } from "react-bootstrap";
import { useSelector } from "react-redux";
import { Link, NavLink, useLocation, useNavigate } from "react-router-dom";

import accountIcon from "../../assets/svg/account_icon.svg";
import addIcon from "../../assets/svg/add_icon.svg";
import businessIcon from "../../assets/svg/business_icon.svg";
import paperIcon from "../../assets/svg/paper_icon.svg";
import { selectUser } from "../../store/user";

import "./appnav.css";

function NavBar() {
  const user = useSelector(selectUser);
  const navigate = useNavigate();
  const location = useLocation();

  return (
    <div className="header">
      <Navbar>
        <div className="nav-above-content">
          <div className="left-content">
            {!user?.email && location.pathname !== "/" && (
              <button type="button" onClick={() => navigate(-1)}>
                <svg width="8" viewBox="0 0 11 18" fill="none">
                  <path
                    d="M10.5.5.5 9l10 8.5"
                    stroke="#FFFFFF"
                    strokeMiterlimit="10"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>{" "}
              </button>
            )}
            {user.email !== "" && (
              <button
                type="button"
                onClick={() => {
                  if (location.pathname !== "/home") navigate(-1);
                }}
              >
                <svg width="8" viewBox="0 0 11 18" fill="none">
                  <path
                    d="M10.5.5.5 9l10 8.5"
                    stroke="#FFFFFF"
                    strokeMiterlimit="10"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>{" "}
              </button>
            )}
          </div>
          <Navbar.Brand
            as={Link}
            to={user.email ? "/home" : "/"}
            className="logo-page-header"
          >
            <svg
              width="253"
              height="20"
              role="img"
              aria-label="[title]"
              viewBox="0 0 253 20"
              data-test-key="logo-jobstreet"
            >
              <title>JobStreet Nhà tuyển dụng</title>
              <g>
                <path
                  fill="#FFFFFF"
                  d="M20.2826 4.84461C24.0285 4.84461 27.0354 7.78236 27.0354 11.589C27.0354 15.3956 24.0285 18.3333 20.2826 18.3333C16.5366 18.3333 13.5551 15.3956 13.5551 11.589C13.5551 7.78236 16.5366 4.84461 20.2826 4.84461ZM31.4086 0.0928963V6.70979C32.326 5.53437 33.6767 4.84461 35.5368 4.84461C38.9512 4.84461 41.7545 7.78236 41.7545 11.589C41.7545 15.3956 38.9512 18.3333 35.5368 18.3333C33.6767 18.3333 32.326 17.6436 31.4086 16.4681V17.9755H28.1213V0.0928963H31.4086ZM49.2596 0C52.0681 0 54.3048 1.35896 55.4902 3.74611L52.5344 5.45761C51.8971 4.10349 50.8932 3.42301 49.2596 3.42301C47.9109 3.42301 46.7755 4.16723 46.7755 5.0732C46.7755 6.17158 47.4635 6.63263 50.1645 7.45026C52.9931 8.34454 56 9.28963 56 12.943C56 16.2893 53.3243 18.3332 49.5276 18.3332C45.8834 18.3332 43.4882 16.5705 42.5197 13.9135L45.5265 12.1507C46.1639 13.8114 47.4124 14.8844 49.6294 14.8844C51.7446 14.8844 52.4833 13.9901 52.4833 12.9938C52.4833 11.6655 51.2859 11.1544 48.6356 10.388C45.9088 9.5962 43.2588 8.57325 43.2588 5.17565C43.2588 1.92529 46.3522 0 49.2596 0ZM79.6491 4.84445C83.4204 4.84445 86.0961 7.83342 86.0961 11.5888C86.0961 12.0741 86.045 12.5085 85.9689 12.9429H76.3618C76.8205 14.629 78.2219 15.3442 79.9549 15.3442C81.2291 15.3442 82.2483 14.8077 82.8088 14.0671L85.4592 15.5999C84.2613 17.3368 82.3501 18.3332 79.9038 18.3332C75.6227 18.3332 72.9216 15.3954 72.9216 11.5888C72.9216 7.7822 75.6484 4.84445 79.6491 4.84445ZM93.802 4.84445C97.5733 4.84445 100.249 7.83342 100.249 11.5888C100.249 12.0741 100.198 12.5085 100.122 12.9429H90.5147C90.9734 14.629 92.3748 15.3442 94.1078 15.3442C95.3821 15.3442 96.4012 14.8077 96.9617 14.0671L99.6121 15.5999C98.4143 17.3368 96.503 18.3332 94.0567 18.3332C89.7756 18.3332 87.0746 15.3954 87.0746 11.5888C87.0746 7.7822 89.8013 4.84445 93.802 4.84445ZM12.5415 0.0972527V12.4122C12.5415 13.2411 12.4144 13.9857 12.181 14.646C11.7827 15.7714 11.0697 16.652 10.1451 17.2663C10.1423 17.2716 10.1395 17.2744 10.1366 17.2744C9.11224 18.0545 7.60822 18.3288 6.48644 18.3288C3.55847 18.3288 1.09804 17.0441 0.329935 14.5754C0.0961639 13.8244 0 12.8825 0 11.4784L3.56048 11.4824C3.53875 12.9446 3.72746 14.0406 4.8259 14.6662C5.81973 15.2321 7.97557 15.2003 8.72316 13.5904C9.16173 12.6453 9.04987 11.0758 9.04987 10.0303V0.0972527H12.5415ZM60.5436 0.810292V5.2022H63.4233V8.36987H60.5436V13.6835C60.5436 15.0634 61.5374 15.0888 63.4233 14.9868V17.9753C58.8106 18.4864 57.2563 17.1327 57.2563 13.6835V0.810292H60.5436ZM104.964 0.810292V5.2022H107.843V8.36987H104.964V13.6835C104.964 15.0634 105.958 15.0888 107.843 14.9868V17.9753C103.231 18.4864 101.677 17.1327 101.677 13.6835V0.810292H104.964ZM72.4281 4.94674V8.62548C70.7209 8.42098 68.555 9.18738 68.555 11.8698V17.9756H65.2677V5.20207H68.555V7.39924C69.2173 5.66192 70.8227 4.94674 72.4281 4.94674ZM34.9252 7.98687C32.9122 7.98687 31.4086 9.44304 31.4086 11.589C31.4086 13.7349 32.9122 15.1911 34.9252 15.1911C36.964 15.1911 38.4672 13.7349 38.4672 11.589C38.4672 9.44304 36.964 7.98687 34.9252 7.98687ZM20.2826 8.06351C18.3456 8.06351 16.8424 9.51968 16.8424 11.589C16.8424 13.6583 18.3456 15.1144 20.2826 15.1144C22.2445 15.1144 23.7481 13.6583 23.7481 11.589C23.7481 9.51968 22.2445 8.06351 20.2826 8.06351ZM79.6491 7.80801C77.8908 7.80801 76.6929 8.75311 76.3107 10.3884H82.8088C82.4012 8.54901 81.0252 7.80801 79.6491 7.80801ZM93.802 7.80801C92.0437 7.80801 90.8459 8.75311 90.4636 10.3884H96.9617C96.5541 8.54901 95.1781 7.80801 93.802 7.80801Z"
                />
                <path
                  fill="#FFFFFF"
                  d="M115.477 16.3327V5.86988L123.012 16.3327H123.87V4.16663H122.903V14.6295L115.349 4.16663H114.51V16.3327H115.477ZM127.774 16.3327V11.7444C127.774 9.39806 129.179 8.28573 130.967 8.28573C132.682 8.28573 133.649 9.32854 133.649 10.9275V16.3327H134.58V10.9275C134.58 8.82451 133.211 7.45148 131.04 7.45148C129.635 7.45148 128.468 8.00764 127.774 9.29378V4.16663H126.862V16.3327H127.774ZM142.225 6.42605L140.765 4.21877H139.67L141.349 6.42605H142.225ZM141.258 16.5239C143.009 16.5239 144.414 15.6723 145.181 14.3688V16.3327H146.111V7.64266H145.181V9.60662C144.414 8.30311 143.009 7.45148 141.258 7.45148C138.667 7.45148 136.532 9.41544 136.532 11.9877C136.532 14.56 138.667 16.5239 141.258 16.5239ZM141.331 15.6897C139.16 15.6897 137.463 14.0559 137.463 11.9877C137.463 9.91946 139.16 8.28573 141.331 8.28573C143.502 8.28573 145.181 9.91946 145.181 11.9877C145.181 14.0559 143.502 15.6897 141.331 15.6897ZM157.807 16.3327V5.03563H161.821V4.16663H152.807V5.03563H156.821V16.3327H157.807ZM166.948 16.5239C168.353 16.5239 169.52 15.9678 170.214 14.6816V16.3327H171.126V7.64266H170.214V12.231C170.214 14.5773 168.809 15.6897 167.021 15.6897C165.306 15.6897 164.339 14.6469 164.339 13.0479V7.64266H163.408V13.0479C163.408 15.1509 164.777 16.5239 166.948 16.5239ZM177.658 17.1322L181.599 7.64266H180.614L177.439 15.3768L173.753 7.64266H172.768L176.965 16.4892L176.764 16.9584C176.198 18.2272 175.268 19.0962 174.045 18.9919V19.8088C175.615 19.9304 176.965 18.8007 177.658 17.1322ZM185.759 6.42605L187.237 4.77493L188.697 6.42605H189.737L187.766 4.21877H186.69L184.719 6.42605H185.759ZM187.42 16.5239C189.226 16.5239 190.649 15.7418 191.397 14.56L190.594 14.1081C190.065 15.0292 188.934 15.6897 187.438 15.6897C185.358 15.6897 183.789 14.4035 183.57 12.4396H191.835C191.835 12.3005 191.853 12.1615 191.853 12.0225C191.853 9.64138 190.12 7.45148 187.347 7.45148C184.555 7.45148 182.621 9.43282 182.621 11.9877C182.621 14.6121 184.61 16.5239 187.42 16.5239ZM190.904 11.588H183.57C183.752 9.65876 185.267 8.28573 187.347 8.28573C189.135 8.28573 190.704 9.46758 190.904 11.588ZM194.9 16.3327V11.7444C194.9 9.39806 196.305 8.28573 198.093 8.28573C199.808 8.28573 200.775 9.32854 200.775 10.9275V16.3327H201.706V10.9275C201.706 8.82451 200.338 7.45148 198.166 7.45148C196.761 7.45148 195.594 8.00764 194.9 9.29378V7.64266H193.988V16.3327H194.9ZM214.131 16.3327C217.653 16.3327 220.152 13.6041 220.152 10.2497C220.152 6.89531 217.653 4.16663 214.131 4.16663H209.333V16.3327H214.131ZM214.131 15.4637H210.3V5.03563H214.131C217.142 5.03563 219.204 7.36458 219.204 10.2497C219.204 13.1348 217.142 15.4637 214.131 15.4637ZM225.717 16.5239C227.122 16.5239 228.29 15.9678 228.983 14.6816V16.3327H229.896V7.64266H228.983V12.231C228.983 14.5773 227.578 15.6897 225.79 15.6897C224.075 15.6897 223.108 14.6469 223.108 13.0479V7.64266H222.178V13.0479C222.178 15.1509 223.546 16.5239 225.717 16.5239ZM233.618 16.3327V11.7444C233.618 9.39806 235.023 8.28573 236.811 8.28573C238.526 8.28573 239.493 9.32854 239.493 10.9275V16.3327H240.423V10.9275C240.423 8.82451 239.055 7.45148 236.884 7.45148C235.479 7.45148 234.311 8.00764 233.618 9.29378V7.64266H232.706V16.3327H233.618ZM247.466 20C249.984 20 252.01 18.5226 252.01 15.9156V7.64266H251.097V9.65876C250.349 8.32049 248.944 7.45148 247.174 7.45148C244.565 7.45148 242.449 9.41544 242.449 11.9877C242.449 14.56 244.565 16.5239 247.174 16.5239C248.944 16.5239 250.349 15.6549 251.097 14.3166V15.9156C251.097 17.897 249.747 19.1657 247.466 19.1657C245.459 19.1657 244.438 18.401 243.963 17.4798L243.16 17.9143C243.817 19.1831 245.332 20 247.466 20ZM226.875 17.7083C227.335 17.7083 227.708 18.0814 227.708 18.5416C227.708 19.0019 227.335 19.375 226.875 19.375C226.414 19.375 226.041 19.0019 226.041 18.5416C226.041 18.0814 226.414 17.7083 226.875 17.7083ZM247.229 8.28573C249.4 8.28573 251.097 9.91946 251.097 11.9877C251.097 14.0559 249.4 15.6897 247.229 15.6897C245.058 15.6897 243.361 14.0559 243.361 11.9877C243.361 9.91946 245.058 8.28573 247.229 8.28573ZM186.68 0.416626C187.698 0.416626 188.551 0.979707 188.551 2.05138C188.551 2.54605 188.222 3.11224 187.562 3.74996L187.001 3.6901C187.708 3.05672 188.061 2.51048 188.061 2.05138C188.061 1.28849 187.507 0.879805 186.68 0.879805C185.972 0.879805 185.4 1.20676 185.2 1.84249L184.791 1.61544C185.073 0.816232 185.845 0.416626 186.68 0.416626Z"
                />
              </g>
            </svg>
          </Navbar.Brand>
          <div className="right-content">
            {user.email === "" && (
              <NavLink className="nav-link login" to="/login">
                <span style={{ color: "white" }}>Đăng nhập</span>
              </NavLink>
            )}
          </div>
        </div>
        <div className="nav-below-content">
          {user.email && (
            <div className="nav-menu">
              <NavLink className="nav-link" to="/home">
                <img src={paperIcon} alt="Đăng tuyển" className="nav-icon" />
                <span>Tin tuyển dụng của tôi</span>
              </NavLink>
              <NavLink className="nav-link" to="post_job">
                <img src={addIcon} alt="Đăng tuyển" className="nav-icon" />
                <span>Đăng tuyển</span>
              </NavLink>
              <NavLink className="nav-link" to="business">
                <img src={businessIcon} alt="Đăng tuyển" className="nav-icon" />
                <span>Những doanh nghiệp của tôi</span>
              </NavLink>
              <NavLink className="nav-link" to="account">
                <img src={accountIcon} alt="Đăng tuyển" className="nav-icon" />
                <span>Tài khoản</span>
              </NavLink>
            </div>
          )}
        </div>
      </Navbar>
    </div>
  );
}

export default NavBar;
